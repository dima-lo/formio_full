{"version":3,"sources":["webpack:///./src/app/form/submission/SubmissionResourceConfig.ts","webpack:///./src/app/form/submission/SubmissionService.ts","webpack:///./src/app/form/submission/index/index.component.html","webpack:///./src/app/form/submission/index/index.component.scss","webpack:///./src/app/form/submission/index/index.component.ts","webpack:///./src/app/form/submission/resource/resource.component.html","webpack:///./src/app/form/submission/resource/resource.component.scss","webpack:///./src/app/form/submission/resource/resource.component.ts","webpack:///./src/app/form/submission/submission.module.ts"],"names":[],"mappings":"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","file":"form-submission-submission-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { FormioResourceConfig } from 'angular-formio/resource';\nimport { AppConfig } from '../../config';\n\n@Injectable()\nexport class SubmissionResourceConfig extends FormioResourceConfig {\n  constructor(public config: AppConfig) {\n    super();\n  }\n\n  set name(name) {}\n  get name() {\n    return this.config.formName;\n  }\n\n  set form(form) {}\n  get form() {\n    return this.config.formPath;\n  }\n}\n","import { Injectable, Optional, EventEmitter } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormioLoader } from 'angular-formio';\nimport { FormioResourceService, FormioResourceConfig, FormioResources } from 'angular-formio/resource';\nimport { AppConfig } from '../../config';\n\n@Injectable()\nexport class SubmissionService extends FormioResourceService {\n  public onResource: EventEmitter<any> = new EventEmitter();\n  constructor(\n    public appConfig: AppConfig,\n    public config: FormioResourceConfig,\n    public loader: FormioLoader,\n    @Optional() public resourcesService: FormioResources\n  ) {\n    super(appConfig, config, loader, resourcesService);\n  }\n  setContext(route: ActivatedRoute) {\n    if (this.appConfig.currentForm) {\n      super.init();\n      return super.setContext(route);\n    }\n    route.params.subscribe(params => {\n      this.appConfig.loadForm(true).then(() => {\n        super.init();\n        super.setContext(route);\n      });\n    });\n  }\n  save(resource: any) {\n    return super.save(this.appConfig.submitAlter(resource)).then((submission) => {\n      this.appConfig.parent.send({formSubmission: submission});\n    });\n  }\n  loadResource(route: ActivatedRoute) {\n    this.resourceLoaded = new Promise((resolve) => {\n      route.params.subscribe(params => {\n        this.appConfig.loadForm(true).then(() => {\n          super.init();\n          super.loadResource(route).then((resource) => {\n            this.onResource.emit(resource);\n            resolve(resource);\n          });\n        });\n      });\n    });\n  }\n  init() {}\n}\n","module.exports = \"<formio-grid\\n  [src]=\\\"gridSrc\\\"\\n  [query]=\\\"gridQuery\\\"\\n  [onForm]=\\\"service.formLoaded\\\"\\n  (rowSelect)=\\\"onSelect($event)\\\"\\n  (error)=\\\"service.onError($event)\\\"\\n  (createItem)=\\\"onCreateItem()\\\"\\n  createText=\\\"\\\"\\n></formio-grid>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0vc3VibWlzc2lvbi9pbmRleC9pbmRleC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component } from '@angular/core';\nimport { FormioResourceIndexComponent } from 'angular-formio/resource';\n\n@Component({\n  selector: 'app-index',\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.scss']\n})\nexport class SubmissionIndexComponent extends FormioResourceIndexComponent {}\n","module.exports = \"<a *ngIf=\\\"downloadUrl\\\" [href]=\\\"downloadUrl\\\" target=\\\"_blank\\\" class=\\\"pull-right\\\"><img src=\\\"assets/pdf.png\\\" style=\\\"height: 2em;\\\" /></a>\\n<ul class=\\\"nav nav-tabs mb-2\\\">\\n  <li class=\\\"nav-item\\\"><a class=\\\"nav-link\\\" routerLink=\\\"../\\\"><i class=\\\"fa fa-chevron-left glyphicon glyphicon-chevron-left\\\"></i></a></li>\\n  <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\"><a class=\\\"nav-link\\\" routerLink=\\\"view\\\" routerLinkActive=\\\"active\\\">View</a></li>\\n  <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" *ngIf=\\\"perms.edit\\\"><a class=\\\"nav-link\\\" routerLink=\\\"edit\\\" routerLinkActive=\\\"active\\\">Edit</a></li>\\n  <li class=\\\"nav-item\\\" routerLinkActive=\\\"active\\\" *ngIf=\\\"perms.delete\\\"><a class=\\\"nav-link\\\" routerLink=\\\"delete\\\" routerLinkActive=\\\"active\\\"><span class=\\\"fa fa-trash glyphicon glyphicon-trash\\\"></span></a></li>\\n</ul>\\n<router-outlet></router-outlet>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Zvcm0vc3VibWlzc2lvbi9yZXNvdXJjZS9yZXNvdXJjZS5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { FormioResourceComponent, FormioResourceService } from 'angular-formio/resource';\nimport { SubmissionService } from '../SubmissionService';\n\n@Component({\n  selector: 'app-resource',\n  templateUrl: './resource.component.html',\n  styleUrls: ['./resource.component.scss']\n})\nexport class SubmissionResourceComponent extends FormioResourceComponent implements OnInit {\n  public downloadUrl: string;\n  getDownloadPDF() {\n    (this.service as SubmissionService).onResource.subscribe(() => {\n      this.service.formio.getDownloadUrl().then((url) => {\n        this.downloadUrl = url;\n      });\n    });\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n    this.getDownloadPDF();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FormioGrid } from 'angular-formio/grid';\nimport {\n  FormioResource,\n  FormioResourceConfig,\n  FormioResourceService,\n  FormioResourceRoutes\n} from 'angular-formio/resource';\nimport { SubmissionService } from './SubmissionService';\nimport { SubmissionResourceConfig } from './SubmissionResourceConfig';\nimport { SubmissionIndexComponent } from './index/index.component';\nimport { SubmissionResourceComponent } from './resource/resource.component';\n\n@NgModule({\n  declarations: [SubmissionIndexComponent, SubmissionResourceComponent],\n  imports: [\n    CommonModule,\n    FormioGrid,\n    FormioResource,\n    RouterModule.forChild(FormioResourceRoutes({\n      index: SubmissionIndexComponent,\n      resource: SubmissionResourceComponent\n    }))\n  ],\n  providers: [\n    {\n      provide: FormioResourceService,\n      useClass: SubmissionService\n    },\n    {\n      provide: FormioResourceConfig,\n      useClass: SubmissionResourceConfig\n    }\n  ]\n})\nexport class SubmissionModule { }\n"],"sourceRoot":""}